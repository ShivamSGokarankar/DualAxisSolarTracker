#include<Servo.h>
#include <LiquidCrystal.h>
Servo horizontal; 
  Servo vertical; 
  int servoh =180;
  int servov = 45;  
  int servohLimitHigh = 180;
  int servohLimitLow = 0;
  int servovLimitHigh = 150;
  int servovLimitLow = 30;
  int ldrlt = 0; 
  int ldrrt = 1; 
  int ldrld = 2; 
  int ldrrd = 3; 
void setup()
  { 
  Serial.begin(9600);
  horizontal.attach(9);
  vertical.attach(10);
  horizontal.write(180);
  vertical.write(0);
  delay(1000);
}
void loop()
{
  int lt = analogRead(ldrlt); // top left
      int rt = analogRead(ldrrt); // top right
      int ld = analogRead(ldrld); // down left
      int rd = analogRead(ldrrd); // down right
      int avg = (lt + rt + ld + rd)/4;
  int dtime = 10; int tol = 50;
      
      int avt = (lt + rt) / 2; // average  top
      int avd = (ld + rd) / 2; // average  down
      int avl = (lt + ld) / 2; // average  left
      int avr = (rt + rd) / 2; // average  right
      
      int dvert = avt - avd; // diffirence of up and down
      int dhoriz = avl - avr;// diffirence og left and rigt
  
      if (-1*tol > dvert || dvert > tol) //  if the diffirence is in the tolerance else change vertical angle
         {
            if (avt > avd)
               {
                 servov = ++servov;
                    if (servov > servovLimitHigh)
                       {
                         servov = servovLimitHigh;
                       }
               }
            else if (avt < avd)
               {
                 servov= --servov;
                    if (servov < servovLimitLow)
                       {
                         servov = servovLimitLow;
                       }
               }
           vertical.write(servov);
         }
}